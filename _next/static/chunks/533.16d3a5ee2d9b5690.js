"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{9024:function(e,t){t.Z={apiKey:"AIzaSyCu82sysG5VTNHpKEvEnT-A33B8EwBKT7A",authDomain:"sp-2504.firebaseapp.com",projectId:"sp-2504",storageBucket:"sp-2504.appspot.com",messagingSenderId:"107459326789618110284",appId:"1:107459326789618110284:web:e428f3b2f2a8c5d04fef1a"}},4533:function(e,t,n){let r,a;n.r(t),n.d(t,{AuthProvider:function(){return f},useAuth:function(){return p}});var s=n(5893),o=n(7294),u=n(2370),c=n(3977),i=n(9024);let l=(0,o.createContext)({user:null,loading:!0,logout:async()=>{}});function f(e){let{children:t}=e,[n,f]=(0,o.useState)(null),[p,h]=(0,o.useState)(!0);(0,o.useEffect)(()=>{try{r||(r=0===(0,c.C6)().length?(0,c.ZF)(i.Z):(0,c.C6)()[0],a=(0,u.v0)(r))}catch(e){console.error("Firebase 초기화 오류:",e),h(!1)}},[]);let _=async()=>{if(a)try{await (0,u.w7)(a),f(null),localStorage.removeItem("sanctions_search_auth_token"),localStorage.removeItem("sanctions_search_user_info")}catch(e){console.error("로그아웃 오류:",e)}};return(0,o.useEffect)(()=>{if(!a)return h(!1),()=>{};let e=(0,u.Aj)(a,e=>{if(f(e),h(!1),e){let t={uid:e.uid,email:e.email,lastLogin:new Date().toISOString()};localStorage.setItem("sanctions_search_user_info",JSON.stringify(t))}});return()=>e()},[a]),(0,s.jsx)(l.Provider,{value:{user:n,loading:p,logout:_},children:t})}let p=()=>(0,o.useContext)(l)}}]);