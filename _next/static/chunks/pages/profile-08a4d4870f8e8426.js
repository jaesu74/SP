(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(4317)}])},4317:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return m}});var t=s(5893),n=s(645),i=s.n(n),l=s(7294),r=s(1163),o=s(9008),c=s.n(o),f=s(4533),u=s(7152),d=s(3186),x=s.n(d);function m(){let e=(0,r.useRouter)(),{user:a,loading:s}=(0,f.useAuth)(),[n,o]=(0,l.useState)(""),[d,m]=(0,l.useState)(""),[j,p]=(0,l.useState)(""),[b,_]=(0,l.useState)(""),[h,g]=(0,l.useState)(""),[N,w]=(0,l.useState)(""),[v,y]=(0,l.useState)(""),[k,L]=(0,l.useState)(""),[C,B]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s||a?a&&(o(a.displayName||""),m(a.email||"")):e.push("/auth/login")},[a,s,e]);let S=async e=>{e.preventDefault();try{if(y(""),L(""),b){if(b!==h)return y("새 비밀번호가 일치하지 않습니다.");if(b.length<6)return y("비밀번호는 최소 6자 이상이어야 합니다.");if(!j)return y("현재 비밀번호를 입력해주세요.");try{await (0,u.F3)(j),await (0,u.Cp)(j,b),L("비밀번호가 성공적으로 변경되었습니다."),p(""),_(""),g("")}catch(e){if("auth/wrong-password"===e.code)return y("현재 비밀번호가 올바르지 않습니다.");if("auth/requires-recent-login"===e.code)return y("보안을 위해 다시 로그인이 필요합니다. 로그아웃 후 다시 로그인해주세요.");return y(e.message||"비밀번호 변경 중 오류가 발생했습니다.")}}a.displayName!==n&&L("프로필이 업데이트되었습니다.")}catch(e){y(e.message||"프로필 업데이트 중 오류가 발생했습니다.")}},P=async a=>{a.preventDefault();try{if(y(""),!N)return y("계정 삭제를 위해 비밀번호를 입력해주세요.");try{await (0,u.F3)(N),await (0,u.xU)(),e.push("/auth/login")}catch(e){if("auth/wrong-password"===e.code)return y("비밀번호가 올바르지 않습니다.");return y(e.message||"계정 삭제 중 오류가 발생했습니다.")}}catch(e){y(e.message||"계정 삭제 중 오류가 발생했습니다.")}};return s||!a?(0,t.jsx)("div",{className:x().container,children:(0,t.jsx)("div",{className:x().loginBox,children:(0,t.jsx)("p",{children:"인증 정보를 확인하는 중..."})})}):(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().container||""),children:[(0,t.jsxs)(c(),{children:[(0,t.jsx)("title",{className:"jsx-73af385206707abf",children:"사용자 프로필 | 제재 정보 검색 시스템"}),(0,t.jsx)("meta",{name:"description",content:"사용자 프로필 관리",className:"jsx-73af385206707abf"})]}),(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().loginBox||""),children:[(0,t.jsx)("h1",{className:"jsx-73af385206707abf "+(x().title||""),children:"사용자 프로필"}),v&&(0,t.jsx)("div",{className:"jsx-73af385206707abf "+(x().error||""),children:v}),k&&(0,t.jsx)("div",{className:"jsx-73af385206707abf "+(x().success||""),children:k}),(0,t.jsxs)("form",{onSubmit:S,className:"jsx-73af385206707abf "+(x().form||""),children:[(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().formGroup||""),children:[(0,t.jsx)("label",{htmlFor:"displayName",className:"jsx-73af385206707abf",children:"이름"}),(0,t.jsx)("input",{type:"text",id:"displayName",value:n,onChange:e=>o(e.target.value),className:"jsx-73af385206707abf "+(x().input||"")})]}),(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().formGroup||""),children:[(0,t.jsx)("label",{htmlFor:"email",className:"jsx-73af385206707abf",children:"이메일"}),(0,t.jsx)("input",{type:"email",id:"email",value:d,disabled:!0,className:"jsx-73af385206707abf "+(x().input||"")}),(0,t.jsx)("small",{className:"jsx-73af385206707abf",children:"이메일은 변경할 수 없습니다."})]}),(0,t.jsx)("div",{className:"jsx-73af385206707abf "+(x().separator||""),children:"비밀번호 변경"}),(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().formGroup||""),children:[(0,t.jsx)("label",{htmlFor:"currentPassword",className:"jsx-73af385206707abf",children:"현재 비밀번호"}),(0,t.jsx)("input",{type:"password",id:"currentPassword",value:j,onChange:e=>p(e.target.value),className:"jsx-73af385206707abf "+(x().input||"")})]}),(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().formGroup||""),children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"jsx-73af385206707abf",children:"새 비밀번호"}),(0,t.jsx)("input",{type:"password",id:"newPassword",value:b,onChange:e=>_(e.target.value),className:"jsx-73af385206707abf "+(x().input||"")})]}),(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().formGroup||""),children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"jsx-73af385206707abf",children:"새 비밀번호 확인"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",value:h,onChange:e=>g(e.target.value),className:"jsx-73af385206707abf "+(x().input||"")})]}),(0,t.jsx)("button",{type:"submit",className:"jsx-73af385206707abf "+(x().button||""),children:"프로필 업데이트"})]}),(0,t.jsx)("div",{className:"jsx-73af385206707abf "+(x().linkContainer||""),children:(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/"),className:"jsx-73af385206707abf "+(x().link||""),children:"메인 페이지로 돌아가기"})}),(0,t.jsx)("div",{className:"jsx-73af385206707abf "+(x().separator||""),children:"계정 삭제"}),(0,t.jsx)("p",{className:"jsx-73af385206707abf "+(x().warning||""),children:"계정을 삭제하면 모든 데이터가 영구적으로 삭제됩니다. 이 작업은 되돌릴 수 없습니다."}),C?(0,t.jsxs)("form",{onSubmit:P,className:"jsx-73af385206707abf",children:[(0,t.jsxs)("div",{className:"jsx-73af385206707abf "+(x().formGroup||""),children:[(0,t.jsx)("label",{htmlFor:"deletePassword",className:"jsx-73af385206707abf",children:"비밀번호 확인"}),(0,t.jsx)("input",{type:"password",id:"deletePassword",value:N,onChange:e=>w(e.target.value),placeholder:"계정 삭제를 위해 비밀번호를 입력하세요",required:!0,className:"jsx-73af385206707abf "+(x().input||"")})]}),(0,t.jsxs)("div",{className:"jsx-73af385206707abf deleteButtonsContainer",children:[(0,t.jsx)("button",{type:"submit",className:"jsx-73af385206707abf "+(x().deleteButton||""),children:"계정 삭제 확인"}),(0,t.jsx)("button",{type:"button",onClick:()=>{B(!1),w("")},className:"jsx-73af385206707abf "+(x().button||""),children:"취소"})]})]}):(0,t.jsx)("button",{type:"button",onClick:()=>B(!0),className:"jsx-73af385206707abf "+(x().deleteButton||""),children:"계정 삭제"})]}),(0,t.jsx)(i(),{id:"73af385206707abf",children:".deleteButtonsContainer.jsx-73af385206707abf{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:1rem;margin-top:1rem;width:100%}"})]})}},3186:function(e){e.exports={container:"Login_container__DPp2Z",loginBox:"Login_loginBox__KZSS_",title:"Login_title__S9Xbe",subtitle:"Login_subtitle__LUyEd",form:"Login_form__F7zp_",formGroup:"Login_formGroup__vLoUr",input:"Login_input__GbcAp",button:"Login_button__BuBqT",error:"Login_error__2xYo0",success:"Login_success__ItpRA",warning:"Login_warning__R0uVy",linkContainer:"Login_linkContainer__oMYKJ",linkGroup:"Login_linkGroup___Cfss",link:"Login_link__C0M84",linkButton:"Login_linkButton__MOlfV",deleteInfo:"Login_deleteInfo__hoPLD",highlight:"Login_highlight__AQ1sg",deleteLink:"Login_deleteLink__lrIb_",separator:"Login_separator__1kvkc",deleteButton:"Login_deleteButton__swC0p"}}},function(e){e.O(0,[425,690,641,888,774,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);